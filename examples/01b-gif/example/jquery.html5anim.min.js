(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
module.exports=function(){"use strict";function e(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}function t(t){function o(o){if(!o)throw new Error("Timeline data not found");a.data=o,a.image=new Image,a.image.onload=function(){e()&&t.html5?a.renderer=new n(t.$el,o,a.image):a.renderer=new r(t.$el,o,a.image),a.renderFrame(0),a.fireEvent("onLoad"),t.autoplay&&setTimeout(function(){a.play()},10)},a.image.src=t.src}var a=this;a.data={},a.playing=!1,a.loop=t.loop||!1,t.html5=t.hasOwnProperty("html5")?t.html5:!0,a.currentFrame=null,a.speed=t.speed||500,a.events={onLoad:[],onFrame:[],onPlay:[],onStop:[]},"function"==typeof t.onLoad&&a.onEvent("onLoad",t.onLoad),"function"==typeof t.onFrame&&a.onEvent("onFrame",t.onFrame),"function"==typeof t.onPlay&&a.onEvent("onPlay",t.onPlay),"function"==typeof t.onStop&&a.onEvent("onStop",t.onStop),t.timeline?$.getJSON(t.timeline,function(e){o(e)}):o(t.timelineData)}var n=require("./renderer/CanvasRenderer"),r=require("./renderer/HtmlRenderer");return t.prototype.play=function(){this.playing||(this.fireEvent("onPlay"),this.playing=!0,this.renderFrame((this.currentFrame+1)%this.data.frames.length))},t.prototype.pause=function(){this.playing&&(this.fireEvent("onStop"),this.playing=!1)},t.prototype.animateTo=function(e){var t=this;this.playing=!1,e>=0&&e<this.data.frames.length&&e!==this.currentFrame&&setTimeout(function(){t.renderFrame((t.currentFrame+1)%t.data.frames.length),t.animateTo(e)},t.speed)},t.prototype.rewindTo=function(e){var t=0;if(this.playing=!1,e>=0&&e<this.data.frames.length)for(;e>=t;)this.renderFrame(t),t++},t.prototype.renderNextFrame=function(e){this.renderFrame(this.currentFrame+1)},t.prototype.renderFrame=function(e){var t=this;e>=t.data.frames.length&&t.loop&&(e=0),e<t.data.frames.length?(t.currentFrame=e,t.renderer.renderFrame(e),t.fireEvent("onFrame"),t.playing&&setTimeout(function(){t.renderNextFrame()},t.speed)):t.playing=!1},t.prototype.onEvent=function(e,t){this.events[e].push(t)},t.prototype.fireEvent=function(e){var t;for(t in this.events[e])this.events[e].hasOwnProperty(t)&&this.events[e][t].call(this,this.currentFrame)},t}();


},{"./renderer/CanvasRenderer":2,"./renderer/HtmlRenderer":3}],2:[function(require,module,exports){
module.exports=function(){"use strict";function t(t,e,a){var n=this;n.element=t,n.data=e,n.image=a,n.canvas=$("<canvas></canvas>").attr("width",e.size.width).attr("height",e.size.height).appendTo(n.element),n.context=n.canvas[0].getContext("2d")}return t.prototype.renderFrame=function(t){var e,a,n;for(this.currentFrame=t,e=this.data.frames[this.currentFrame],a=0;a<e.length;a+=1)n=e[a],this.context.drawImage.apply(this.context,[this.image].concat(n).concat([n[2],n[3]]))},t}();


},{}],3:[function(require,module,exports){
module.exports=function(){"use strict";function t(t,i,e){var s=this;s.element=t,s.data=i,s.image=e,s.canvas=$("<div></div>").css({width:i.size.width,height:i.size.height,position:"relative"}),s.element.append(s.canvas)}return t.prototype.renderFrame=function(t){var i,e,s;for(this.currentFrame=t,console.log(this.image.src),i=this.data.frames[this.currentFrame],this.canvas&&0===t&&this.canvas.html(""),e=0;e<i.length;e+=1){s=i[e];var a=$("<div></div>");a.css({position:"absolute",left:s[4],top:s[5],width:s[2],height:s[3],backgroundImage:"url("+this.image.src+")",backgroundPosition:"-"+s[0]+"px -"+s[1]+"px"}),console.log({position:"absolute",left:s[4],top:s[5],width:s[2],height:s[3],backgroundImage:"url("+this.image.src+")",backgroundPosition:"-"+s[0]+"px -"+s[1]+"px"}),this.canvas.append(a)}},t}();


},{}],4:[function(require,module,exports){
!function(t){var n=require("./app/controller.js");t.fn.html5anim=function(a){var i,r="html5animInstance";return i={initialize:function(a){function i(){var i=t(this);a.$el=i,t(this).data(r,new n(a))}return this.each(i)},play:function(){var n=t(this).data(r);return n&&n.play(),t(this)},pause:function(){var n=t(this).data(r);return n&&n.pause(),t(this)},playTo:function(n){var a=t(this).data(r);return a&&a.animateTo(n),t(this)},rewindTo:function(n){var a=t(this).data(r);return a&&a.rewindTo(n),t(this)},onPlay:function(n){var a=t(this).data(r);return a&&a.onEvent("onPlay",n),t(this)},onStop:function(n){var a=t(this).data(r);return a&&a.onEvent("onStop",n),t(this)},onStop:function(n){var a=t(this).data(r);return a&&a.onEvent("onStop",n),t(this)},onFrame:function(n){var a=t(this).data(r);return a&&a.onEvent("onFrame",n),t(this)}},i[a]?i[a].apply(this,[].slice.call(arguments,1)):i.initialize.apply(this,arguments)}}(window.jQuery);
},{"./app/controller.js":1}]},{},[4]);
